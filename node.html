<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation Node.js</title>
    <style>
        /* Copiez-collez les m√™mes styles que dans vos autres fichiers */
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;margin:0;display:flex;color:#333;background-color:#f8f9fa;padding-top:60px}#sidebar{width:280px;position:fixed;height:calc(100% - 60px);background:#fff;border-right:1px solid #ddd;padding:20px;overflow-y:auto;box-shadow:0 0 10px rgba(0,0,0,.05);top:60px}#sidebar h2{margin-top:0;color:#444;border-bottom:2px solid #8cc84b;padding-bottom:10px}#sidebar ul{list-style-type:none;padding:0}#sidebar li a{display:block;color:#333;padding:10px 15px;text-decoration:none;border-radius:5px;transition:background-color .2s,color .2s}#sidebar li a:hover{background-color:#e9ecef;color:#0056b3}#main-content{margin-left:320px;padding:20px 40px;width:calc(100% - 320px);padding-top:80px}section{margin-bottom:50px;padding-top:20px}h1,h2,h3{color:#0056b3}h1{border-bottom:1px solid #ccc;padding-bottom:10px}h3{margin-top:30px;border-bottom:1px solid #eee;padding-bottom:5px}code{background-color:#e9ecef;padding:.2em .4em;margin:0;font-size:85%;border-radius:3px;font-family:'Courier New',Courier,monospace}pre{background-color:#2d2d2d;color:#f8f8f2;padding:15px;border-radius:5px;overflow-x:auto}pre code{background-color:transparent;padding:0}.topic-title{font-size:1.2em;font-weight:700;margin-top:20px;margin-bottom:10px;color:#555}.main-nav{width:100%;background-color:#343a40;padding:10px 40px;box-sizing:border-box;position:fixed;top:0;left:0;z-index:1000;display:flex;align-items:center}.main-nav a{color:#fff;text-decoration:none;padding:10px 15px;border-radius:5px;margin-right:10px;font-weight:700}.main-nav a.active{background-color:#8cc84b}.main-nav a:hover{background-color:#495057}
    </style>
</head>
<body>

    <nav class="main-nav">
        <a href="index.html">React</a>
        <a href="mongodb.html">MongoDB</a>
        <a href="express.html">Express.js</a>
        <a href="node.html" class="active">Node.js</a>
        <a href="redux.html">Redux</a>
        <a href="mern-interactions.html">Interactions</a>
        <a href="mern-project-guide.html">Guide de Projet</a>
        <a href="state-transfer.html">Transfert d'√âtat</a>
    </nav>
    
    <nav id="sidebar">
        <h2>Sujets Node.js</h2>
        <div class="topic-title">üî∞ D√©butant</div>
        <ul>
            <li><a href="#what-is-node">Qu'est-ce que Node.js ?</a></li>
            <li><a href="#event-loop">La Boucle d'√âv√©nements</a></li>
            <li><a href="#modules">Les Modules</a></li>
        </ul>
        <div class="topic-title">üõ†Ô∏è Interm√©diaire</div>
        <ul>
            <li><a href="#async">Programmation Asynchrone</a></li>
            <li><a href="#fs-module">Module File System (fs)</a></li>
            <li><a href="#npm">NPM</a></li>
        </ul>
        <div class="topic-title">üöÄ Avanc√©</div>
        <ul>
            <li><a href="#streams">Les Streams</a></li>
            <li><a href="#event-emitter">L'√âmetteur d'√âv√©nements</a></li>
            <li><a href="#child-processes">Les Processus Enfants</a></li>
        </ul>
    </nav>

    <main id="main-content">
        <header>
            <h1>Tout sur Node.js</h1>
        </header>
        
        <section id="what-is-node">
            <h2>üî∞ Qu'est-ce que Node.js ?</h2>
            <p>Node.js est un <strong>environnement d'ex√©cution</strong> JavaScript back-end, open-source et multiplateforme, qui s'ex√©cute sur le moteur V8 et ex√©cute le code JavaScript en dehors d'un navigateur web. Il permet aux d√©veloppeurs d'utiliser JavaScript pour √©crire des outils en ligne de commande et pour des scripts c√¥t√© serveur.</p>
        </section>

        <section id="event-loop">
            <h2>üî∞ La Boucle d'√âv√©nements</h2>
            <p>La boucle d'√©v√©nements (event loop) est le secret derri√®re l'I/O non bloquant de Node.js. Elle permet √† Node.js d'effectuer des op√©rations d'I/O (comme lire un fichier ou faire une requ√™te r√©seau) de mani√®re asynchrone. Lorsqu'une op√©ration asynchrone est lanc√©e, elle est d√©l√©gu√©e au noyau du syst√®me. La boucle d'√©v√©nements peut alors continuer √† ex√©cuter d'autre code. Lorsque l'op√©ration se termine, un rappel (callback) est plac√© dans une file d'attente et ex√©cut√© par la boucle d'√©v√©nements lorsque la pile d'appels (call stack) est libre.</p>
        </section>
        
        <section id="modules">
            <h2>üî∞ Les Modules</h2>
            <p>Node.js utilise un syst√®me de modules pour organiser le code en fichiers s√©par√©s. Vous pouvez inclure des modules int√©gr√©s, des modules tiers (via npm), ou vos propres modules personnalis√©s.</p>
            <ul>
                <li><strong>CommonJS (CJS) :</strong> Le syst√®me de modules traditionnel de Node.js, utilisant `require()` et `module.exports`.</li>
                <li><strong>ES Modules (ESM) :</strong> Le standard moderne pour JavaScript, utilisant `import` et `export`. Node.js le prend en charge avec les fichiers `.mjs` ou en ajoutant `"type": "module"` dans `package.json`.</li>
            </ul>
            <h3>Exemple : CommonJS vs. ES Modules</h3>
            <pre><code>// CommonJS
const fs = require('fs');
module.exports = { maFonction: () => {} };

// ES Modules
import fs from 'fs';
export const maFonction = () => {};</code></pre>
        </section>

        <section id="async">
            <h2>üõ†Ô∏è Programmation Asynchrone</h2>
            <p>Comme Node.js est non bloquant, vous devez g√©rer correctement les op√©rations asynchrones. La mani√®re moderne de le faire est avec `async/await`, qui est du sucre syntaxique par-dessus les Promesses (Promises).</p>
            <h3>Exemple : Lire un fichier avec Async/Await</h3>
            <pre><code>const fs = require('fs/promises'); // Utiliser la version bas√©e sur les Promesses

async function lireFichierAsync() {
  try {
    const data = await fs.readFile('mon-fichier.txt', 'utf8');
    console.log('Contenu du fichier :', data);
  } catch (err) {
    console.error('Erreur lors de la lecture du fichier :', err);
  }
}

lireFichierAsync();</code></pre>
        </section>
        
        <section id="fs-module">
            <h2>üõ†Ô∏è Module File System (fs)</h2>
            <p>Le module `fs` est un module central de Node.js qui permet d'interagir avec le syst√®me de fichiers. Vous pouvez l'utiliser pour lire, √©crire, mettre √† jour et supprimer des fichiers.</p>
            <h3>Exemple : √âcrire dans un fichier</h3>
            <pre><code>const fs = require('fs');

const contenu = 'Ceci est le contenu √† √©crire.';

// √âcriture asynchrone
fs.writeFile('nouveau-fichier.txt', contenu, 'utf8', (err) => {
  if (err) {
    console.error(err);
    return;
  }
  console.log('Le fichier a √©t√© √©crit avec succ√®s !');
});

// √âcriture synchrone (bloque la boucle d'√©v√©nements - √† utiliser avec parcimonie)
// fs.writeFileSync('nouveau-fichier-sync.txt', contenu);</code></pre>
        </section>

        <section id="npm">
            <h2>üõ†Ô∏è NPM (Node Package Manager)</h2>
            <p>NPM est le gestionnaire de paquets par d√©faut pour Node.js et le plus grand registre de logiciels au monde. Il est utilis√© pour installer, partager et g√©rer des paquets tiers (d√©pendances) pour votre projet. Le fichier `package.json` est le c≈ìur de tout projet Node.js, d√©finissant ses m√©tadonn√©es et ses d√©pendances.</p>
        </section>

        <section id="streams">
            <h2>üöÄ Les Streams</h2>
            <p>Les streams (flux) sont l'un des concepts fondamentaux qui alimentent les applications Node.js. Ce sont des objets qui vous permettent de lire des donn√©es depuis une source ou d'√©crire des donn√©es vers une destination de mani√®re continue. Ils sont incroyablement utiles pour travailler avec de grandes quantit√©s de donn√©es, comme la lecture d'un gros fichier ou la diffusion de vid√©o, sans avoir √† tout charger en m√©moire en m√™me temps.</p>
            <h3>Exemple : "Piper" un flux lisible vers un flux inscriptible</h3>
            <pre><code>const fs = require('fs');

// Cr√©er un flux lisible √† partir d'un gros fichier
const readableStream = fs.createReadStream('gros-fichier-entree.txt');

// Cr√©er un flux inscriptible vers un nouveau fichier
const writableStream = fs.createWriteStream('fichier-sortie.txt');

// 'pipe' g√®re le flux de donn√©es, la contre-pression (backpressure) et les erreurs automatiquement
readableStream.pipe(writableStream);

console.log('La copie du fichier est en cours...');</code></pre>
        </section>

        <section id="event-emitter">
            <h2>üöÄ L'√âmetteur d'√âv√©nements (EventEmitter)</h2>
            <p>De nombreux objets int√©gr√©s de Node (comme les requ√™tes HTTP, les r√©ponses et les streams) sont bas√©s sur une architecture √©v√©nementielle asynchrone. Ces objets √©mettent des √©v√©nements nomm√©s qui provoquent l'appel de fonctions ("listeners"). Ce mod√®le est facilit√© par la classe `EventEmitter`.</p>
            <h3>Exemple : Cr√©er un √©v√©nement personnalis√©</h3>
            <pre><code>const EventEmitter = require('events');

class MonEmetteur extends EventEmitter {}

const monEmetteur = new MonEmetteur();

// Enregistrer un "listener" pour l'√©v√©nement 'evenementPerso'
monEmetteur.on('evenementPerso', (arg) => {
  console.log('Un √©v√©nement a eu lieu !', arg);
});

// √âmettre l'√©v√©nement
monEmetteur.emit('evenementPerso', { data: 'donn√©es importantes' });</code></pre>
        </section>
        
        <section id="child-processes">
            <h2>üöÄ Les Processus Enfants</h2>
            <p>Node.js s'ex√©cute sur un seul thread, ce qui est excellent pour l'I/O mais peut √™tre limitant pour les t√¢ches intensives en CPU. Le module `child_process` vous permet de cr√©er de nouveaux processus, vous permettant ainsi d'ex√©cuter des commandes externes ou de cr√©er des processus "workers" pour tirer parti de plusieurs c≈ìurs de CPU.</p>
            <h3>Exemple : Ex√©cuter une commande shell</h3>
            <pre><code>const { exec } = require('child_process');

// Ex√©cuter la commande 'ls -lh'
exec('ls -lh', (error, stdout, stderr) => {
  if (error) {
    console.error(`erreur exec : ${error}`);
    return;
  }
  console.log(`stdout : ${stdout}`);
  console.error(`stderr : ${stderr}`);
});</code></pre>
        </section>

    </main>

</body>

</html>
